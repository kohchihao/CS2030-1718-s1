
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>3. Question - CS2030 Programming Methodology II</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../index.html" title="CS2030 Programming Methodology II" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Labs
                </span>
              
            
            3. Question
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../reviews/index.html" title="Review Qs" class="md-nav__link">
      Review Qs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec1/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec2/index.html" title="2. Inheritance & Polymorphism" class="md-nav__link">
      2. Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec3/index.html" title="3. Inheritance, Continued" class="md-nav__link">
      3. Inheritance, Continued
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec4/index.html" title="4. Memory, Exceptions, Generics" class="md-nav__link">
      4. Memory, Exceptions, Generics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec5/index.html" title="5. Numbers, Strings, Collections" class="md-nav__link">
      5. Numbers, Strings, Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec6/index.html" title="6. Nested Classes, Enums" class="md-nav__link">
      6. Nested Classes, Enums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec7/index.html" title="7. Lambda and Functions" class="md-nav__link">
      7. Lambda and Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec8/index.html" title="8. More Lambda and Streams" class="md-nav__link">
      8. More Lambda and Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec9/index.html" title="9. Functors, Monads, Collectors" class="md-nav__link">
      9. Functors, Monads, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel Streams" class="md-nav__link">
      10. Parallel Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous Programming" class="md-nav__link">
      11. Asynchronous Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Exercises
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise1/index.html" title="1. Circles & Points" class="md-nav__link">
      1. Circles & Points
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise2/index.html" title="2. Square & PaintedSquare" class="md-nav__link">
      2. Square & PaintedSquare
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise3/index.html" title="3. PaintedSquare Revisited" class="md-nav__link">
      3. PaintedSquare Revisited
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise4/index.html" title="4. Exceptions" class="md-nav__link">
      4. Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise5/index.html" title="5. Streams" class="md-nav__link">
      5. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise6/index.html" title="6. Functors, Collectors" class="md-nav__link">
      6. Functors, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise7/index.html" title="7. Mock Exam" class="md-nav__link">
      7. Mock Exam
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1/index.html" title="1. Question" class="md-nav__link">
      1. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab01-comments/index.html" title="1. Comments" class="md-nav__link">
      1. Comments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2/index.html" title="2. Question" class="md-nav__link">
      2. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab02-comments/index.html" title="2. Comments" class="md-nav__link">
      2. Comments
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        3. Question
      </label>
    
    <a href="index.html" title="3. Question" class="md-nav__link md-nav__link--active">
      3. Question
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task" title="Task" class="md-nav__link">
    Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#priority-queuing" title="Priority Queuing" class="md-nav__link">
    Priority Queuing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomized-arrival-and-service-time" title="Randomized Arrival and Service Time" class="md-nav__link">
    Randomized Arrival and Service Time
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random" title="Random" class="md-nav__link">
    Random
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrival-time" title="Arrival Time" class="md-nav__link">
    Arrival Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-time" title="Service Time" class="md-nav__link">
    Service Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-task" title="Your Task" class="md-nav__link">
    Your Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4/index.html" title="4. Question" class="md-nav__link">
      4. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5. Question" class="md-nav__link">
      5. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6. Question" class="md-nav__link">
      6. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab7/index.html" title="7. Question" class="md-nav__link">
      7. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab8/index.html" title="8. Question" class="md-nav__link">
      8. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab9/index.html" title="9. Question" class="md-nav__link">
      9. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab10/index.html" title="10. Question" class="md-nav__link">
      10. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab11/index.html" title="11. Question" class="md-nav__link">
      11. Question
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task" title="Task" class="md-nav__link">
    Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#priority-queuing" title="Priority Queuing" class="md-nav__link">
    Priority Queuing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomized-arrival-and-service-time" title="Randomized Arrival and Service Time" class="md-nav__link">
    Randomized Arrival and Service Time
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random" title="Random" class="md-nav__link">
    Random
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrival-time" title="Arrival Time" class="md-nav__link">
    Arrival Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-time" title="Service Time" class="md-nav__link">
    Service Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-task" title="Your Task" class="md-nav__link">
    Your Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s1/edit/master/docs/lab3.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="lab-3">Lab 3</h1>
<p>Submission deadline: 2359, Sunday, September 17, 2017.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>This lab assumes that students:</p>
<ul>
<li>have already attempted Lab 2</li>
<li>have an understanding of the customer/server system being simulated</li>
</ul>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lab, students should:</p>
<ul>
<li>be familiar with the <a href="../style/index.html">CS2030 Java Coding Style</a> and comfortable in following them</li>
<li>be familiar with <a href="../javadoc/index.html"><code class="codehilite">javadoc</code> syntax</a> and comfortable with documenting the code with <code class="codehilite">javadoc</code></li>
<li>be familiar with generating <code class="codehilite">javadoc</code> documentation</li>
<li>be comfortable reading a Java Collection Framework documentation and use one of the classes provided</li>
<li>appreciate the usefulness of Java Collection Framework by seeing how much shorter and cleaner the resulting code is</li>
<li>be familiar with random number generation in <code class="codehilite">java.lang.Math</code></li>
<li>be exposed to the concept of pseudo random number generator and seeds</li>
</ul>
<h2 id="setup">Setup</h2>
<p>There is no new skeleton code provided.  You are to build from your Lab 3 solution based on your Lab 2.  To setup Lab 3, do the following.</p>
<ul>
<li>Login to <code class="codehilite">cs2030-i</code></li>
<li>Copy <code class="codehilite">~/lab02</code> to <code class="codehilite">~/lab03</code></li>
<li>Rename <code class="codehilite">LabTwo.java</code> to <code class="codehilite">LabThree.java</code></li>
<li>Rename the class <code class="codehilite">LabTwo</code> to <code class="codehilite">LabThree</code></li>
<li>Copy the test data (<code class="codehilite">TESTDATA1.txt</code> .. <code class="codehilite">TESTDATA5.txt</code>) from <code class="codehilite">~cs2030/lab03</code> to <code class="codehilite">~/lab03</code></li>
</ul>
<p>If you are still not familiar with how to do the above, please revisit the <a href="../unix/index.html">UNIX</a> guide.</p>
<h2 id="task">Task</h2>
<p>For Lab 3, you will be asked to make two small changes to the code:</p>
<ul>
<li>Make the arrival time and service time random</li>
<li>Use <code class="codehilite">PriorityQueue&lt;Event&gt;</code> instead of <code class="codehilite">Event[]</code> to schedule the event.</li>
</ul>
<p>As a result of this, you might realize that there is a better way to encapsulate the data and the behavior of the various entities in the program.  In which case, you may want to reorganize your classes, create new classes, etc.  Depending on how "changeable" your Lab 2 solution is, you may have ended up with more than two small changes.</p>
<p>In addition, you should edit your code so that:</p>
<ul>
<li>it follows the <a href="../style/index.html">CS2030 Coding Style</a></li>
<li>it is clearly documented with <a href="../javadoc/index.html"><code class="codehilite">javadoc</code> comments</a></li>
</ul>
<h2 id="grading">Grading</h2>
<p>This lab contributes another 4 marks to your final grade (100 marks).</p>
<ul>
<li>1 marks for coding style</li>
<li>1 marks for javadoc</li>
<li>1 mark for implementation <em>and encapsulation</em> of arrival time/service time generation and the priority queue</li>
<li>1 mark for correctness</li>
</ul>
<h2 id="priority-queuing">Priority Queuing</h2>
<p>The first change you need to do in this assignment is to use one of the Java Collection classes to manage the events.  In <code class="codehilite">LabTwo.java</code>, we kept all the events in an array, and scanned through it to find the event with the smallest (i.e., earliest) timestamp.  This is not efficient, since scanning through all the events takes time that increases linearly with the number of events<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">1</a></sup>.</p>
<p>Java Collection provides a class that is perfect for our use: <a href="https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html"><code class="codehilite">PriorityQueue&lt;E&gt;</code></a>.  A <code class="codehilite">PriorityQueue</code> keeps a collection of elements, the elements are given certain priority.  Elements can be added with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#add-E-"><code class="codehilite">add(E e)</code></a> method.  To retrieve and remove the elements with highest priority, we use the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll--"><code class="codehilite">poll()</code></a> method, which returns an object of type <code class="codehilite">E</code>, or <code class="codehilite">null</code> is the queue is empty.</p>
<p>In our case, the event with the smallest timestamp has the highest priority.  To tell the <code class="codehilite">PriorityQueue&lt;E&gt;</code> class how to order the events so that smaller timestamp has higher priority, we use the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#PriorityQueue-java.util.Comparator-"><code class="codehilite">PriorityQueue&lt;E&gt;</code> constructor</a> that takes in a <code class="codehilite">Comparator</code> object, just like we see in <a href="../lec5/index.html">Lecture 5</a>.</p>
<p>If you design is right, you should only change the code in four places: (i) initialize list of events, (ii) schedule an event, (iii) get the next event, (iv) checking if there is still an event.</p>
<p>(Hint: You should be able to implement a <code class="codehilite">Comparator</code> without getter <code class="codehilite">getTime()</code>)</p>
<p><strong>You should implement this change first</strong>, since you can do a sanity check of your correctness against the result of Lab 2 using the test data <em>from</em> Lab 2.</p>
<h2 id="randomized-arrival-and-service-time">Randomized Arrival and Service Time</h2>
<p>Next, we are going to change how the arrival time and service time is specified, so that we can easily simulate different settings (e.g., a more efficient server with faster service time, more arrivals during weekends, etc).</p>
<h3 id="random">Random</h3>
<p>First, an introduction to random number generation.  A random number generator is an entity that spews up one random number after another.  We, however, cannot generate a truly random number algorithmically.  We can only generate a <em>pseudo</em> random number.  A pseudo random number generator can be initialized with a <em>seed</em>.  A pseudo random number generator, when initialized with the same <em>seed</em>, always produces the same sequence of (seemingly random) numbers.</p>
<p>Java provides a class <code class="codehilite">java.util.Random</code> that encapsulates a pseudo random number generator.  We can create a random number generator with a seed:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Random</span> <span class="n">rng</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>We can then call <code class="codehilite">rng.nextDouble()</code> repeatedly to generate random numbers between 0 and 1.</p>
<p>In the demo below, we see that creating a <code class="codehilite">Random</code> object with the same seed of 2 towards the end leads to the same sequence of random doubles being generated.</p>
<script type="text/javascript" src="https://asciinema.org/a/137475.js" id="asciicast-137475" async></script>

<p>Using a fixed seed is important for testing, since the execution of the program will be deterministic, even when random numbers are involved.</p>
<h3 id="arrival-time">Arrival Time</h3>
<p>In Lab 2, the arrival time is given in the input text file.  This approach is less flexible and requires another program to generate the input file.  Further, the original code creates <em>all</em> the arrival events before the simulation starts, and therefore limits the total number of arrivals to the size of the initial array <code class="codehilite">events</code>.</p>
<p>We are going to improve this part of the program, by generating the arrival one after another.  To do this, we need to generate a <em>random inter-arrival time</em>.  The inter-arrival time is usually modeled as a exponential random variable, characterized by a single parameter <span>\(\lambda\)</span> (<code class="codehilite">lambda</code>), known as <em>arrival rate</em>.</p>
<p>Mathematically, the inter-arrival time can be generated with <span>\(-\ln(U)/\lambda\)</span>, where <span>\(U\)</span> is a random variable between 0 and 1<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">2</a></sup>.</p>
<ul>
<li>Every time an arrival event is processed, it generates another arrival event and schedule it.</li>
<li>If there are still more customer to simulator, we generate the next arrival event with a timestamp of <span>\(T\)</span> + now, where <span>\(T\)</span> is generated with the Java expression:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">lambda</span>
</pre></div>
</td></tr></table></li>
<li>When we first start the simulator, we need to generate the first arrival event with timestamp <span>\(T\)</span>, generated with the same expression as above.</li>
</ul>
<p>You can adapt the expression above to suit your program.</p>
<h3 id="service-time">Service Time</h3>
<p>In Lab 2, the service time is constant, which is not always realistic. We are going to model the service time as a exponential random variable, characterized with a single parameter, <em>service rate</em> <span>\(\mu\)</span> (<code class="codehilite">mu</code>).  We can generate the service time with the expression <span>\(-\ln(U)/\mu\)</span>, where <span>\(U\)</span> is a random variable between 0 and 1.</p>
<ul>
<li>Every time a customer is being served, we generate a "done" event and schedule it (just like we did it in Lab 2).</li>
<li>The "done" event generated will have a timestamp of <span>\(T\)</span> + now, where <span>\(T\)</span> is <em>no longer constant <code class="codehilite">SERVICE_TIME</code></em>, but instead is generated with the Java expression:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>   <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">mu</span>
</pre></div>
</td></tr></table></li>
</ul>
<p>You can adapt the expression above to suit your program.</p>
<p>Note that <em>we should only have a single random number generator</em> in the simulation. (hint: what access modifier should we use?)</p>
<h3 id="input-and-output">Input and Output</h3>
<p>With this change, the input file should now contain only the <em>simulator parameters</em>.  It has four lines:</p>
<ul>
<li>The first line is a <code class="codehilite">int</code> value, indicating the seed to the simulator</li>
<li>The second line is a <code class="codehilite">double</code> value, indicating the service rate <span>\(\mu\)</span></li>
<li>The third line is a <code class="codehilite">double</code> value, indicating the arrival rate <span>\(\lambda\)</span></li>
<li>The fourth line is a <code class="codehilite">int</code> value, indicating the total number of customers to simulate</li>
</ul>
<p>We give you five test inputs: <code class="codehilite">TESTDATA1.txt</code> to <code class="codehilite">TESTDATA5.txt</code>.  The output we get with these inputs are:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ooiwt@cs2030-i:~/lab03&gt; java LabThree &lt; TESTDATA1.txt | tail -1
0.000 1 0
ooiwt@cs2030-i:~/lab03&gt; java LabThree &lt; TESTDATA2.txt | tail -1
0.924 3 2
ooiwt@cs2030-i:~/lab03&gt; java LabThree &lt; TESTDATA3.txt | tail -1
0.019 10 0
ooiwt@cs2030-i:~/lab03&gt; java LabThree &lt; TESTDATA4.txt | tail -1
0.832 3 7
ooiwt@cs2030-i:~/lab03&gt; java LabThree &lt; TESTDATA5.txt | tail -1
0.530 634 366
</pre></div>
</td></tr></table>

<h2 id="your-task">Your Task</h2>
<p>Your mission, in Lab 3, is update your solution in Lab 2 to:</p>
<ul>
<li>follow the style guideline</li>
<li>add <code class="codehilite">javadoc</code> comments to code (<code class="codehilite">javadoc</code> should not produce any warning)</li>
<li>use <code class="codehilite">PriorityQueue&lt;E&gt;</code> to manage the events</li>
<li>use randomly generated service time and arrival time, specified by a new input file format</li>
<li>improve your existing encapsulations, create new encapsultions, etc. if necessary</li>
</ul>
<p>The <code class="codehilite">main</code> method should remain in a class named <code class="codehilite">LabThree</code>.  We must be able to run your code with:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>javac *.java
java LabThree &lt; TESTDATA1.txt
</pre></div>
</td></tr></table></p>
<p>You also must not change the formatting of the <em>last line</em> of output:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%.3f %d %d&quot;</span><span class="o">,</span> <span class="o">..</span><span class="err">&quot;</span><span class="o">)</span>
</pre></div>
</td></tr></table></p>
<p>We rely on it to check for correctness of your logic.</p>
<h2 id="submission">Submission</h2>
<p>When you are ready to submit your lab, on <code class="codehilite">cs2030-i</code>, run the script
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>~cs2030/submit03
</pre></div>
</td></tr></table></p>
<p>which will copy all files matching <code class="codehilite">*.java</code> (and nothing else) from your <code class="codehilite">~/lab03</code> directory on <code class="codehilite">cs2030-i</code> to an internal grading directory.  We will test compile and test run with a tiny sample input to make sure that your submission is OK.</p>
<p>You can submit multiple times, but only the most recent submission will be graded.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:2">
<p>For those who are taking CS2040, we say this is <span>\(O(n)\)</span> time.  A heap-based priority queue, on the other hand, takes <span>\(O(log n)\)</span> time.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:1">
<p>If you are not familiar with exponential distribution and random variable, do not worry, the code is being given to you.  These concepts are covered in ST2334.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lab02-comments/index.html" title="2. Comments" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                2. Comments
              </span>
            </div>
          </a>
        
        
          <a href="../lab4/index.html" title="4. Question" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                4. Question
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2017
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>