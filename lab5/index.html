
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>5. Question - CS2030 Programming Methodology II</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../index.html" title="CS2030 Programming Methodology II" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Labs
                </span>
              
            
            5. Question
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../reviews/index.html" title="Review Qs" class="md-nav__link">
      Review Qs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec1/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec2/index.html" title="2. Inheritance & Polymorphism" class="md-nav__link">
      2. Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec3/index.html" title="3. Inheritance, Continued" class="md-nav__link">
      3. Inheritance, Continued
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec4/index.html" title="4. Memory, Exceptions, Generics" class="md-nav__link">
      4. Memory, Exceptions, Generics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec5/index.html" title="5. Numbers, Strings, Collections" class="md-nav__link">
      5. Numbers, Strings, Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec6/index.html" title="6. Nested Classes, Enums" class="md-nav__link">
      6. Nested Classes, Enums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec7/index.html" title="7. Lambda and Functions" class="md-nav__link">
      7. Lambda and Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec8/index.html" title="8. More Lambda and Streams" class="md-nav__link">
      8. More Lambda and Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec9/index.html" title="9. Functors, Monads, Collectors" class="md-nav__link">
      9. Functors, Monads, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel Streams" class="md-nav__link">
      10. Parallel Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous Programming" class="md-nav__link">
      11. Asynchronous Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Exercises
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise1/index.html" title="1. Circles & Points" class="md-nav__link">
      1. Circles & Points
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise2/index.html" title="2. Square & PaintedSquare" class="md-nav__link">
      2. Square & PaintedSquare
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise3/index.html" title="3. PaintedSquare Revisited" class="md-nav__link">
      3. PaintedSquare Revisited
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise4/index.html" title="4. Exceptions" class="md-nav__link">
      4. Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise5/index.html" title="5. Streams" class="md-nav__link">
      5. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise6/index.html" title="6. Functors, Collectors" class="md-nav__link">
      6. Functors, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise7/index.html" title="7. Mock Exam" class="md-nav__link">
      7. Mock Exam
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1/index.html" title="1. Question" class="md-nav__link">
      1. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab01-comments/index.html" title="1. Comments" class="md-nav__link">
      1. Comments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2/index.html" title="2. Question" class="md-nav__link">
      2. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab02-comments/index.html" title="2. Comments" class="md-nav__link">
      2. Comments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3. Question" class="md-nav__link">
      3. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4/index.html" title="4. Question" class="md-nav__link">
      4. Question
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        5. Question
      </label>
    
    <a href="index.html" title="5. Question" class="md-nav__link md-nav__link--active">
      5. Question
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task" title="Task" class="md-nav__link">
    Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-break" title="Take A Break" class="md-nav__link">
    Take A Break
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-type-of-customers" title="New Type of Customers" class="md-nav__link">
    New Type of Customers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switching-queues" title="Switching Queues" class="md-nav__link">
    Switching Queues
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-hints" title="Implementation Hints" class="md-nav__link">
    Implementation Hints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random-number-generation" title="Random number generation" class="md-nav__link">
    Random number generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" title="Collections" class="md-nav__link">
    Collections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-files" title="Input Files" class="md-nav__link">
    Input Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" title="Output" class="md-nav__link">
    Output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6. Question" class="md-nav__link">
      6. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab7/index.html" title="7. Question" class="md-nav__link">
      7. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab8/index.html" title="8. Question" class="md-nav__link">
      8. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab9/index.html" title="9. Question" class="md-nav__link">
      9. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab10/index.html" title="10. Question" class="md-nav__link">
      10. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab11/index.html" title="11. Question" class="md-nav__link">
      11. Question
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task" title="Task" class="md-nav__link">
    Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-break" title="Take A Break" class="md-nav__link">
    Take A Break
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-type-of-customers" title="New Type of Customers" class="md-nav__link">
    New Type of Customers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switching-queues" title="Switching Queues" class="md-nav__link">
    Switching Queues
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-hints" title="Implementation Hints" class="md-nav__link">
    Implementation Hints
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#random-number-generation" title="Random number generation" class="md-nav__link">
    Random number generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" title="Collections" class="md-nav__link">
    Collections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-files" title="Input Files" class="md-nav__link">
    Input Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" title="Output" class="md-nav__link">
    Output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s1/edit/master/docs/lab5.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="lab-5">Lab 5</h1>
<p>Submission deadline: 2359, <em>Wednesday</em>, October 11, 2017.</p>
<p>You have more time than normal to complete Lab 5.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>This lab assumes that students:</p>
<ul>
<li>have already attempted Lab 4</li>
<li>have an understanding of the multi-queues, multi-servers system being simulated</li>
<li>are familiar with CS2030 coding style and javadoc documentation</li>
<li>are comfortable with using Java Collections Framework</li>
<li>are familiar with random number generation in <code class="codehilite">java.lang.Math</code></li>
<li>are familiar with static methods and variables</li>
<li>are familiar with inheritance and interfaces</li>
</ul>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lab, students should develop a better appreciation of object-oriented programming, especially in:</p>
<ul>
<li>encapsulating data and behavior within classes</li>
<li>inheriting common behavior from the parent class and implementing sub-class specific behaviors by overriding the parent class</li>
<li>the ease of extending an existing program with new behaviors if the right encapsulations are used.</li>
</ul>
<h2 id="setup">Setup</h2>
<p>A sample code that solves Lab 4 is given.  Read it carefully and understand all the classes and APIs given.  </p>
<p>After which, you are free to choose, either:</p>
<ul>
<li>extend the given code for Lab 4 to solve Lab 5, or</li>
<li>extend your own code for Lab 4 to solve Lab 5</li>
</ul>
<p>I encourage you to do both, and compare how easy / difficult it is to extend the two versions of the code to implement the new requirements of Lab 5.</p>
<p>The sample code from Lab 4 is available on <code class="codehilite">cs2030-i</code> under the directory <code class="codehilite">~cs2030/lab04/sample</code>.   The test data (<code class="codehilite">TESTDATA1.txt</code> .. <code class="codehilite">TESTDATA9.txt</code> for Lab 5 is available in <code class="codehilite">~cs2030/lab05</code>.</p>
<h2 id="task">Task</h2>
<p>For Lab 5, you will be asked to make changes to your Lab 4, to:</p>
<ul>
<li>Support different types of customers</li>
<li>Support three new types of events</li>
</ul>
<p>You are still required to</p>
<ul>
<li>follows the <a href="../style/index.html">CS2030 Coding Style</a></li>
<li>clearly documented with <a href="../javadoc/index.html"><code class="codehilite">javadoc</code></a></li>
</ul>
<h2 id="take-a-break">Take A Break</h2>
<p>We have been working our servers in Lab 4 very hard.  They do not get a break, even after serving one million customers!  In this lab, we will allow our servers to take a break.  </p>
<p>Here is how a server takes a break:</p>
<ul>
<li>After a server completes serving a customer, a server either takes a break with probability <span>\(p_b\)</span>, or serves the next customer with probability (1-<span>\(p_b\)</span>).</li>
<li>The length of a server's break is random, and is drawn from an exponential distribution with rate parameter <span>\(\beta\)</span>.  </li>
<li>After the break is over, the server returns to its duty and serves the next customer (if available).</li>
</ul>
<p>To implement this, you can create two new types of events, one for going for break, the other for returning from break, which you can create and schedule in the simulator with the logic above.</p>
<h2 id="new-type-of-customers">New Type of Customers</h2>
<p>Let's call the customers we implemented in Lab 4 as <em>typical</em> customers.  A typical customer, upon arrival, joins a random queue if none of the server can serve the customer immediately.  Note that while in Lab 4, this means that none of the server is idle, in Lab 5, we have to consider that a server might be on a break.  So a customer joins a random queue if every server is either busy or on a break.  A customer, however, can queue up for a server that is on a break.</p>
<p>We will add two new types of customer in Lab 5.  A kiasu<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> customer is one that 
<em>joins the shortest queue</em><sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">2</a></sup> upon arrival if none of the server is available to serve it immediately.  A pioneer<sup id="fnref:3"><a class="footnote-ref" href="#fn:3" rel="footnote">3</a></sup> customer is one that has highest priority to being served -- he/she always joins the queue at the front of the queue upon arrival, even if there is another pioneer customer at the front of the queue<sup id="fnref:4"><a class="footnote-ref" href="#fn:4" rel="footnote">4</a></sup>
Pioneer customers chooses a queue to join randomly, since the length of the queue has no affect on them.</p>
<p>When the simulator generates a new customer, there is a <span>\(p_k\)</span> probability that the customer is a kiasu customer.  There is another probability <span>\(p_p\)</span> that the customer is a pioneer customer.  A typical customer is generated if a customer is neither a kiasu nor pioneer customer.</p>
<h2 id="switching-queues">Switching Queues</h2>
<p>We will introduce a new behavior to our customers, <em>regardless of which type they are</em>.  A customer, at some random time after joining the queue, decides to look around and look for either: (i) an idle server who is not on a break, or (ii) the shortest queue to join.  If an idle server who is not on a break is found, the customer leaves its current queue, goes to that server, and is served immediately. 
Otherwise, the customer looks for the shortest queue<sup id="fnref:5"><a class="footnote-ref" href="#fn:5" rel="footnote">5</a></sup>  If joining the shortest queue would reduce the number of other customers in front of this customer, it will leave its current queue and join that shortest queue.  Note that it does this even when the server for that shortest queue is on a break.</p>
<p>Regardless of whether a customer switch queue or not, it always try to do that again after some random time, until the customer is no longer in the queue.</p>
<p>You can implement this with another new type of "switch" event.  Upon joining a queue, we schedule a "switch" event some time in the future (a random time interval drawn from exponential distribution just like Lab 3, with rate parameter <span>\(\sigma\)</span>).  After every "switch" event, we schedule another one for the same customer, again, some random time in the future drawn from the same distribution.</p>
<p>Note that by the time the simulator gets to a "switch" event, it is possible that the customer has already left the queue (either being served or completed the service).  In this case, we should just discard the "switch" event.</p>
<p>We focus on the case with multiple queues, although the resulting code should still work for the case of single queue, it is less interesting for this lab.</p>
<h2 id="implementation-hints">Implementation Hints</h2>
<h3 id="random-number-generation">Random number generation</h3>
<p>To do something randomly with probability <span>\(p\)</span>, you can use the <code class="codehilite">nextDouble()</code> method of <code class="codehilite">Random</code> class to throw a dice.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">dice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
<span class="k">if</span> <span class="o">(</span><span class="n">dice</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">doSomething</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>To do something randomly with probability <span>\(p\)</span>, and something else with probability <span>\(q\)</span>, you can: </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">dice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
<span class="k">if</span> <span class="o">(</span><span class="n">dice</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">doSomething</span><span class="o">();</span>
<span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">dice</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">-</span><span class="n">q</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">doSomethingElse</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>To generate inter-switching time with parameter <span>\(\sigma\)</span> and break time with parameter <span>\(\beta\)</span> that follows the exponential distribution, you can use the same methods as Lab 3:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">rate</span>
</pre></div>
</td></tr></table>

<p>where <code class="codehilite">rate</code> is either <span>\(\beta\)</span> or <span>\(\sigma\)</span>.</p>
<h3 id="collections">Collections</h3>
<p>Java provides a utilitiy class called <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html"><code class="codehilite">Collections</code></a>, full of useful methods.  You may find it useful for your Lab 5.</p>
<h2 id="input-files">Input Files</h2>
<p>With this change, the input file now contains additional <em>simulator parameters</em>.  The first new lines are the same as Lab 4:</p>
<ul>
<li>The first line is an <code class="codehilite">int</code> value, indicating the seed to the simulator</li>
<li>The next line is an <code class="codehilite">int</code> value, indicating the number of servers <span>\(c\)</span></li>
<li>The next line contains a <code class="codehilite">double</code> value, indicating the service rate <span>\(\mu\)</span></li>
<li>The next line is an <code class="codehilite">int</code> value, indicating the number of queues -- it must be either 1 or <span>\(c\)</span></li>
<li>The next line is a <code class="codehilite">double</code> value, indicating the arrival rate <span>\(\lambda\)</span></li>
<li>The next line is a <code class="codehilite">double</code> value, indicating the total simulation time.</li>
</ul>
<p>The new lines are:</p>
<ul>
<li>The next line contains two <code class="codehilite">double</code> values, seperated by a space, indicating the probability <span>\(p_p\)</span> and <span>\(p_k\)</span> respectively</li>
<li>The next line is another <code class="codehilite">double</code> value, for <span>\(\sigma\)</span></li>
<li>The next line contains the probability that the server goes on a break after serving a customer <span>\(p_b\)</span></li>
<li>The last line contains the rate paramter for the length of the break, <span>\(\beta\)</span>.</li>
</ul>
<h2 id="output">Output</h2>
<p>Like in previous labs, the last line of your program output should not be changed.  It should remain as:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%.3f %d %d&quot;</span><span class="o">,</span> <span class="o">..</span><span class="err">&quot;</span><span class="o">)</span>
</pre></div>
</td></tr></table></p>
<p>The two integer outputs are not as important here, but let's keep it there and print them anyway.</p>
<p>You can compare your output with the following tables<sup id="fnref:6"><a class="footnote-ref" href="#fn:6" rel="footnote">6</a></sup>:</p>
<table>
<thead>
<tr>
<th>TEST</th>
<th>Average Waiting Time</th>
<th>Customers</th>
<th>Switching</th>
<th>Break</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3.4 - 4.4</td>
<td>Only typical customers</td>
<td>Negligable</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>2.7 - 3.7</td>
<td>Only kiasu customers</td>
<td>Negligable</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>3.3 - 4.3</td>
<td>Only pioneers</td>
<td>Negligable</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>3.1 - 4.2</td>
<td>Equal mix</td>
<td>Negligable</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td><s>2.2 - 3.0</s>&nbsp;&nbsp;2.6 - 3.6</td>
<td>Equal mix</td>
<td>Some</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td><s>0.7 - 1.2</s>&nbsp;&nbsp;1.6 - 2.4</td>
<td>Equal mix</td>
<td>Frequent</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td><s>0.9 - 1.5</s>&nbsp;&nbsp;2.0 - 2.9</td>
<td>Equal mix</td>
<td>Frequent</td>
<td>Half of the time, short break</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><s>1.4 - 2.3</s>&nbsp;&nbsp;2.6 - 3.8</td>
<td>Equal mix</td>
<td>Frequent</td>
<td>Always, short break</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td><s>7 - 13</s>&nbsp;&nbsp;10 - 16</td>
<td>Equal mix</td>
<td>Frequent</td>
<td>Always, long break</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="grading">Grading</h2>
<p>This lab contributes another 4 marks to your final grade (100 marks).</p>
<ul>
<li>1 mark for implementation of kiasu customer</li>
<li>1 mark for implementation of pioneer customer</li>
<li>1 mark for implementation of server breaks</li>
<li>1 mark for implementation of switching events</li>
</ul>
<p>To get 1 mark, the implementation has to be correct in its logic and good enough in its design (right OO concepts applied).</p>
<p>You can get -0.5 mark deduction for serious violation of style and -0.5 mark deduction for not documenting your code (in Javadoc format) properly.</p>
<h2 id="submission">Submission</h2>
<p>When you are ready to submit your lab, on <code class="codehilite">cs2030-i</code>, run the script
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>~cs2030/submit05
</pre></div>
</td></tr></table></p>
<p>which will copy all files matching <code class="codehilite">*.java</code> (and nothing else) from your <code class="codehilite">~/lab05</code> directory on <code class="codehilite">cs2030-i</code> to an internal grading directory.  We will test compile and test run with a tiny sample input to make sure that your submission is OK.</p>
<p>You can submit multiple times, but only the most recent submission will be graded.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>"Afraid to loose" in Singlish&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Breaking ties arbitarily&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>Pioneer as in "pioneer generation"&#160;<a class="footnote-backref" href="#fnref:3" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>A queue consists of only pioneer customers is a last-in-first out queue.&#160;<a class="footnote-backref" href="#fnref:4" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>Again, breaking ties arbitarily.&#160;<a class="footnote-backref" href="#fnref:5" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>Your code might still be correct if it is slightly out of range -- try a different seed and see.  If it gets consistently out of range, or is way out of range, then double check your logic.&#160;<a class="footnote-backref" href="#fnref:6" rev="footnote" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lab4/index.html" title="4. Question" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                4. Question
              </span>
            </div>
          </a>
        
        
          <a href="../lab6/index.html" title="6. Question" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                6. Question
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2017
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>