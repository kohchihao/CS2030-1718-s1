
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>2. Inheritance & Polymorphism - CS2030 Programming Methodology II</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../index.html" title="CS2030 Programming Methodology II" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Lectures
                </span>
              
            
            2. Inheritance & Polymorphism
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s1" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../reviews/index.html" title="Review Qs" class="md-nav__link">
      Review Qs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec1/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        2. Inheritance & Polymorphism
      </label>
    
    <a href="index.html" title="2. Inheritance & Polymorphism" class="md-nav__link md-nav__link--active">
      2. Inheritance & Polymorphism
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-safety" title="Type Safety" class="md-nav__link">
    Type Safety
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enforcing-abstraction-barrier-with-interface" title="Enforcing Abstraction Barrier with Interface" class="md-nav__link">
    Enforcing Abstraction Barrier with Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-as-types" title="Interface as Types" class="md-nav__link">
    Interface as Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dry-dont-repeat-yourself" title="DRY - Don't Repeat Yourself" class="md-nav__link">
    DRY - Don't Repeat Yourself
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inheritance" title="Inheritance" class="md-nav__link">
    Inheritance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-object-class" title="Java Object class" class="md-nav__link">
    Java Object class
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec3/index.html" title="3. Inheritance, Continued" class="md-nav__link">
      3. Inheritance, Continued
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec4/index.html" title="4. Memory, Exceptions, Generics" class="md-nav__link">
      4. Memory, Exceptions, Generics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec5/index.html" title="5. Numbers, Strings, Collections" class="md-nav__link">
      5. Numbers, Strings, Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec6/index.html" title="6. Nested Classes, Enums" class="md-nav__link">
      6. Nested Classes, Enums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec7/index.html" title="7. Lambda and Functions" class="md-nav__link">
      7. Lambda and Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec8/index.html" title="8. More Lambda and Streams" class="md-nav__link">
      8. More Lambda and Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec9/index.html" title="9. Functors, Monads, Collectors" class="md-nav__link">
      9. Functors, Monads, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel Streams" class="md-nav__link">
      10. Parallel Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous Programming" class="md-nav__link">
      11. Asynchronous Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Exercises
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Exercises
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise1/index.html" title="1. Circles & Points" class="md-nav__link">
      1. Circles & Points
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise2/index.html" title="2. Square & PaintedSquare" class="md-nav__link">
      2. Square & PaintedSquare
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise3/index.html" title="3. PaintedSquare Revisited" class="md-nav__link">
      3. PaintedSquare Revisited
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise4/index.html" title="4. Exceptions" class="md-nav__link">
      4. Exceptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise5/index.html" title="5. Streams" class="md-nav__link">
      5. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise6/index.html" title="6. Functors, Collectors" class="md-nav__link">
      6. Functors, Collectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../exercise7/index.html" title="7. Mock Exam" class="md-nav__link">
      7. Mock Exam
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1/index.html" title="1. Question" class="md-nav__link">
      1. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab01-comments/index.html" title="1. Comments" class="md-nav__link">
      1. Comments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2/index.html" title="2. Question" class="md-nav__link">
      2. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab02-comments/index.html" title="2. Comments" class="md-nav__link">
      2. Comments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3. Question" class="md-nav__link">
      3. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4/index.html" title="4. Question" class="md-nav__link">
      4. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5. Question" class="md-nav__link">
      5. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6. Question" class="md-nav__link">
      6. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab7/index.html" title="7. Question" class="md-nav__link">
      7. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab8/index.html" title="8. Question" class="md-nav__link">
      8. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab9/index.html" title="9. Question" class="md-nav__link">
      9. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab10/index.html" title="10. Question" class="md-nav__link">
      10. Question
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab11/index.html" title="11. Question" class="md-nav__link">
      11. Question
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-safety" title="Type Safety" class="md-nav__link">
    Type Safety
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enforcing-abstraction-barrier-with-interface" title="Enforcing Abstraction Barrier with Interface" class="md-nav__link">
    Enforcing Abstraction Barrier with Interface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-as-types" title="Interface as Types" class="md-nav__link">
    Interface as Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dry-dont-repeat-yourself" title="DRY - Don't Repeat Yourself" class="md-nav__link">
    DRY - Don't Repeat Yourself
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inheritance" title="Inheritance" class="md-nav__link">
    Inheritance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-object-class" title="Java Object class" class="md-nav__link">
    Java Object class
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s1/edit/master/docs/lec2.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="lecture-2-inheritance-polymorphism">Lecture 2: Inheritance &amp; Polymorphism</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After this lecture, students should:</p>
<ul>
<li>understand that Java is a type-safe language, in contrast to C</li>
<li>be familiar with Java variable and primitive types</li>
<li>understand the concepts of object-oriented programming, including interface, polymorphism, late binding, inheritance, method overriding and method overloading, and their purposes of introducing them as a method of programming.</li>
<li>know the purpose and usage of Java keywords <code class="codehilite">implements</code>, <code class="codehilite">extends</code>, <code class="codehilite">super</code>, <code class="codehilite">instanceof</code>, and <code class="codehilite">@Override</code></li>
<li>understand Java concepts of arrays, enhanced <code class="codehilite">for</code> loop, method signature, <code class="codehilite">Object</code> class, and object equality. </li>
</ul>
<h2 id="type-safety">Type Safety</h2>
<p>Recall that the <em>type</em> of a variable tells the compiler how to interpret the bits that represent the value of a variable and how to manipulate the variable.  The compiler also uses the type to decide how much memory is allocated for each variable.  </p>
<p>Some languages are stricter in terms of type "compatibility" than others.  C compilers, however, are not very strict.  If it detects something strange with the type you used, it will issue a warning, but still let your code compiles and run.</p>
<p>Take:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&quot;cs2030&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>In Line 4, we treat the address to a string as integer.  This generates a compiler's warning.</p>
<p>In C, you can <em>type cast</em> a variable from one type into another, i.e., force the compiler to treat a variable of one type as another type.  The compiler would listen and do that for you.  The following code would print out gibberish and would compile perfectly without error.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="s">&quot;cs2030&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Such flexibility and loose rules for type compatibility could be useful, if you know what you are doing, but for most programmers, it could be a major source of unintentional bugs, especially if one does not pay attention to compiler's warning or one forces the warning to go away without fully understanding what is going on.</p>
<p>Java is very strict when it comes to type checking, and is one of the <em>type-safe</em> languages. Java ensures that basic operations (such as <code class="codehilite">+</code>, <code class="codehilite">-</code>, etc) and method calls apply to values in a way that makes sense.  If you try to pull the same trick as above, you will receive an error:</p>
<script type="text/javascript" src="https://asciinema.org/a/133995.js" id="asciicast-133995" async></script>

<div class="admonition note">
<p class="admonition-title">Java Primitive Data Types</p>
<p>Java supports eight <em>primitive</em> data types: <code class="codehilite">byte</code>, <code class="codehilite">short</code>, <code class="codehilite">int</code>, <code class="codehilite">long</code>, <code class="codehilite">float</code>, <code class="codehilite">double</code>, <code class="codehilite">boolean</code> and <code class="codehilite">char</code>.  If you are familiar with C, these data types should not be foreign to you.  One important difference is that a <code class="codehilite">char</code> variable stores a 16-bit Unicode character, not an 8-bit character like in C.  Java uses <code class="codehilite">byte</code> for that.  The other notable difference is that Java defines <code class="codehilite">true</code> and <code class="codehilite">false</code> as possible value to a <code class="codehilite">boolean</code>, unlike C which uses <code class="codehilite">0</code> for false and non-<code class="codehilite">0</code> for true.  </p>
<p>You can read all about Java <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html">variables</a> and <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html">primitive data types</a> in Oracle's Java Tutorial.</p>
</div>
<h2 id="enforcing-abstraction-barrier-with-interface">Enforcing Abstraction Barrier with Interface</h2>
<p>Recall the concept of encapsulation. When we develop a large piece of software, it is important to hide the details about data representation and implementation, and only exposes certain <code class="codehilite">public</code> methods for the users to use.  We imagine that there is an abstraction barrier between the code that implements the internals of a class (called the <em>implementer</em>) and the code that uses the class (called the <em>user</em>) to achieve a higher level task.</p>
<p>We have seen that we use <code class="codehilite">private</code> to enforce data hiding -- to hide certain fields and methods from outside of the barrier.  Now, we are going to see how we enforce that the right set of methods are defined, implemented, and used on both sides of the barrier.</p>
<p>The mechanism to do this is through defining an <em>interface</em> (aka a <em>protocol</em> as it is called in Objective-C or Swift).  An interface is kinda like a contract between the implementer of a class and the user of a class.  If a class promises to implement an interface, then we are guaranteed that the methods defined in the interface are implemented in the class as it is promised.  Otherwise, the code would not compile.</p>
<p>In Java, we can define an interface using <code class="codehilite">interface</code> keyword:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">interface</span> <span class="nc">GeometricShape</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getArea</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getPerimeter</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contains</span><span class="o">(</span><span class="n">Point</span> <span class="n">p</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>The example interface <code class="codehilite">GeometricShape</code> above contains only the declaration of the methods, not the implementation.  </p>
<p>Now, let's see how the implementer would implement a class using the interface.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">java.lang.Math</span><span class="o">;</span>
<span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="n">GeometricShape</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Point</span> <span class="n">center</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">radius</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Circle</span><span class="o">(</span><span class="n">Point</span> <span class="n">initCenter</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initR</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">center</span> <span class="o">=</span> <span class="n">initCenter</span><span class="o">;</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="n">initR</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">moveTo</span><span class="o">(</span><span class="n">Point</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">center</span> <span class="o">=</span> <span class="n">p</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getArea</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class="o">*</span><span class="n">radius</span><span class="o">*</span><span class="n">radius</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contains</span><span class="o">(</span><span class="n">Point</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">distance</span><span class="o">(</span><span class="n">center</span><span class="o">)</span> <span class="o">&lt;</span> <span class="n">radius</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">getPerimeter</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>This is very similar to the code you saw in Lecture 1 and Exercise 1, except that in Line 2, we say that <code class="codehilite"><span class="kr">class</span> <span class="nx">Circle</span> <span class="kr">implements</span> <span class="nx">GeometricShape</span></code>.  This line informs the compiler that the programmer intends to implement all the methods included in the interface <code class="codehilite">GeometricShape</code> exactly as declared (in terms of names, the number of arguments, the types of arguments, returned type, and access modifier).  The rest of the class is the same, except that we renamed <code class="codehilite">getCircumference</code> with <code class="codehilite">getPerimeter</code>, which is more general and apply to all shapes.  You will also see that we added <em>annotations</em> to our code by adding the line <code class="codehilite">@Override</code> before methods in <code class="codehilite">Circle</code> that implements the methods declared in <code class="codehilite">GeometricShape</code>.  This annotation is optional, but it informs our intention to the compiler and helps make the intention of the programmer clearer to others who read the code.</p>
<div class="admonition note">
<p class="admonition-title">Java Annotation</p>
<p>Annotations are metadata we add that is not part of the code.  Annotation does not affect execution.  They are useful to compilers and other software tools, as well as humans who read the code.  While we can similarly make the code more human-friendly with comments, an annotation is structured and so can be easily parsed by software.  <code class="codehilite">@Override</code> is probably going to be the only annotation useful for us in this class.</p>
</div>
<p>Note that we can have other methods (such as <code class="codehilite">moveTo</code>) in the class beyond what is promised in the interface the class implements.</p>
<p>A class can implement more than one interfaces.  For instance, let's say that we have another interface called <code class="codehilite">Printable</code>[^1] with a single method defined:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">interface</span> <span class="nx">Printable</span> <span class="p">{</span>
    <span class="kr">public</span> <span class="k">void</span> <span class="nx">print</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>The implementer of <code class="codehilite">Circle</code> wants to inform the users that the method <code class="codehilite">void print()</code> is implemented, it can do the following:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
     <span class="o">:</span>
     <span class="o">:</span>
     <span class="nd">@Override</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
         <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;radius: %f\n&quot;</span><span class="o">,</span> <span class="n">radius</span><span class="o">);</span>
         <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;center:&quot;</span><span class="o">);</span>
         <span class="n">center</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
     <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>In the above, we call <code class="codehilite">print()</code> on the <code class="codehilite">Point</code> object as well.  How do we know that <code class="codehilite">Point</code> provides a <code class="codehilite">print()</code> method?  Well, we can read the implementation code of <code class="codehilite">Point</code>, or we can agree with the implementer of <code class="codehilite">Point</code> that <code class="codehilite">Point</code> provides a <code class="codehilite">Printable</code> interface!  </p>
<p>It is important to know that, <code class="codehilite">interface</code> provides a <em>syntactic</em> contract on the abstraction barrier, but it does not provide a <em>semantic</em> contract.  It does not, for instance, guarantee that <code class="codehilite">print()</code> actually prints something to the screen.  One could still implement interface <code class="codehilite">Printable</code> as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
     <span class="o">:</span>
     <span class="o">:</span>
     <span class="nd">@Override</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
     <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>and the code still compiles!</p>
<p>Not all programming languages that support classes support interface.  Javascript and Python, for instance, does not support similar concepts.</p>
<h2 id="interface-as-types">Interface as Types</h2>
<p>In Java, an interface is a type.  What this means is that:</p>
<ul>
<li>We can declare a variable with an interface type, such as:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">GeometricShape</span> <span class="n">circle</span><span class="o">;</span>
</pre></div>
</td></tr></table>
or
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">Printable</span> <span class="n">circle</span><span class="o">;</span>
</pre></div>
</td></tr></table>
We cannot, however, instantiate an object from an interface
since an interface is a "template", an "abstraction", and does not have an implementation.  For instance:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="c1">// this is not OK</span>
    <span class="n">Printable</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Printable</span><span class="o">();</span>
    <span class="c1">// this is OK</span>
    <span class="n">Printable</span> <span class="n">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">),</span> <span class="mi">10</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<ul>
<li>
<p>Similarly, we can pass arguments of an interface type into a method, and the return type of a method can be an interface.</p>
</li>
<li>
<p>An object can be an instance of multiple types.  Recall that Java is a statically typed language. We associate a type with a variable.  We can assign a variable to an object if the object is an instance of the type of the variable.  Line 4 above, for instance, creates a new circle, which is an instance of three types: <code class="codehilite">Circle</code>, <code class="codehilite">GeometricShape</code>, and <code class="codehilite">Printable</code>.  It is ok to assign this new circle to a variable of type <code class="codehilite">Printable</code>.</p>
</li>
</ul>
<p>We can now do something cool like this:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">Printable</span><span class="o">[]</span> <span class="n">objectsToPrint</span><span class="o">;</span>
      <span class="o">:</span>
      <span class="c1">// initialize array objectsToPrint</span>
    <span class="o">:</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">Printable</span> <span class="n">obj</span><span class="o">:</span> <span class="n">objectsToPrint</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>Let's look at this code in more details.  Line 1 declares an array of objects of type <code class="codehilite">Printable</code>.  We skip over the code to initialize the content of the array for now, and
jump to Line 5-7, which is a <code class="codehilite">for</code> loop.  Line 5 declares a loop variable <code class="codehilite">obj</code> of type <code class="codehilite">Printable</code> and loops through all objects in the array <code class="codehilite">objectsToPrint</code>, and Line 6 invoke the method <code class="codehilite">print</code> of <code class="codehilite">obj</code>.</p>
<div class="admonition note">
<p class="admonition-title">Array and For Loops in Java</p>
<p>See Oracle's tutorial on <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html">array</a> and <a href="../h]ttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html">enhanced loop</a></p>
</div>
<p>The magic happens in Line 6:</p>
<ul>
<li>First, since we now that any object in the array has the type <code class="codehilite">Printable</code>, this means that they must implement the <code class="codehilite">Printable</code> interface and support the method <code class="codehilite">print()</code>.  </li>
<li>Second, we do not know, and we do not <em>need</em> to know which class an object is an instance of.</li>
<li>Third, we can actually have objects of completely unrelated classes in the same array. We can have objects of type <code class="codehilite">Circle</code>, and objects of type <code class="codehilite">Point</code>.  We can have objects of type <code class="codehilite">Factory</code>, or objects of type <code class="codehilite">Student</code>, or objects of type <code class="codehilite">Cushion</code>.  As long as the objects implement the <code class="codehilite">Printable</code> interface, we can put them into the same array.</li>
<li>Forth, at <em>run time</em>, Java looks at <code class="codehilite">obj</code>, and determines its class, and invoke the right implementation of <code class="codehilite">print()</code> corresponding to the <code class="codehilite">obj</code>.  That is, if <code class="codehilite">obj</code> is an instance of a class <code class="codehilite">Circle</code>, then it will call <code class="codehilite">print()</code> method of <code class="codehilite">Circle</code>; if <code class="codehilite">obj</code> is an instance of a class <code class="codehilite">Point</code>, then it will call <code class="codehilite">print()</code> method of <code class="codehilite">Point</code>, and so on.</li>
</ul>
<p>To further appreciate the magic that happens in Line 6, especially the last point above, consider how function call is done in C.  In C, you cannot have two functions of the same name within the same scope, so if you call a function <code class="codehilite">print()</code>, you know exactly which set of instructions will be called<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">1</a></sup>.  So, the name <code class="codehilite">print</code> is bound to the corresponding set of instructions at compilation time.  This is called <em>static binding</em> or <em>early binding</em>.
To have <code class="codehilite">print()</code> for different types, we need to name them differently to avoid naming conflicts: e.g., <code class="codehilite">print_point()</code>, <code class="codehilite">print_circle()</code>.</p>
<p>In a language with static binding, suppose you want to mix objects of different types
together in an array, you need to do something like the following pseudocode:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>   <span class="k">for</span> <span class="n">each</span> <span class="n">object</span> <span class="n">in</span> <span class="n">the</span> <span class="n">array</span>
       <span class="k">if</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">point</span>
           <span class="n">print_point</span><span class="p">(</span><span class="n">object</span><span class="p">)</span>
       <span class="k">else</span> <span class="k">if</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">circle</span>
           <span class="n">print_circle</span><span class="p">(</span><span class="n">object</span><span class="p">)</span>
       <span class="k">else</span> <span class="k">if</span> <span class="n">object</span> <span class="n">is</span> <span class="n">a</span> <span class="n">square</span>
           <span class="n">print_square</span><span class="p">(</span><span class="n">object</span><span class="p">)</span>
           <span class="o">:</span>
           <span class="o">:</span>
</pre></div>
</td></tr></table></p>
<p>Not only is the code verbose and ugly, if you want to define a new compound data type that supports printing, you need to remember to come to this place and add in a new condition and call the corresponding print function.</p>
<p>In OO languages, you can have methods named <code class="codehilite">print()</code> implemented differently in different classes.  When we compile the code above, the compiler will have no way to know which implementation will be called.  The bindings of <code class="codehilite">print()</code> to the actual set of instructions will only be done at run time, after <code class="codehilite">obj</code> is instantiated from a class.  This is known as <em>dynamic binding</em>, or <em>late binding</em>, or <em>dynamic dispatch</em>.</p>
<p><img alt="Screenshot" src="../figures/object-representation-jvm/object-representation-jvm.003.png" /></p>
<p>If you understand how an object is represented internally, this is not so magical after all.  Referring to the figure above, the array <code class="codehilite">objectsToPrint[]</code> contains an array of references to objects, the first one is a <code class="codehilite">Circle</code> object, and the next two are <code class="codehilite">Point</code> objects.  When <code class="codehilite">obj.print()</code> is invoked, Java refers to the method table, which points to either the method table for <code class="codehilite">Circle</code> or for <code class="codehilite">Point</code>, based on the class the object is an instance of.</p>
<p>This behavior, which is common to OO programming languages, is known as <em>polymorphism</em><sup id="fnref:3"><a class="footnote-ref" href="#fn:3" rel="footnote">2</a></sup>.</p>
<h2 id="dry-dont-repeat-yourself">DRY - Don't Repeat Yourself</h2>
<p>With the interface <code class="codehilite">GeometricShape</code>, we can implement other classes, such as <code class="codehilite">Rectangle</code>, <code class="codehilite">Square</code>, <code class="codehilite">Polygon</code> with the same interface.  For instance,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Square</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
         <span class="c1">// left as exercise (See Exercise 2)</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>So far, we have been treating our shapes as pure geometric objects.  Let's consider an application where we want to paint the shapes.  Each shape should have a fill color and a border (with color and thickness).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="o">;</span>
    <span class="o">:</span>

<span class="kd">class</span> <span class="nc">PaintedCircle</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Color</span>  <span class="n">fillColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span>  <span class="n">borderColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">borderThickness</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fillWith</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderThickness</span><span class="o">(</span><span class="kt">double</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderThickness</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderColor</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// other methods and fields for Circle from before</span>

<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>In the code above, we added the line <code class="codehilite"><span class="kn">import</span> <span class="nn">java.awt.Color</span></code> to use the <a href="https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html">Color class</a> that Java provides, and added three private members as well as their setters.</p>
<p>We can do the same for <code class="codehilite">Square</code></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">java.awt.Color</span><span class="o">;</span>
    <span class="o">:</span>

<span class="kd">class</span> <span class="nc">PaintedSquare</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Color</span>  <span class="n">fillColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span>  <span class="n">borderColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">borderThickness</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fillWith</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderThickness</span><span class="o">(</span><span class="kt">double</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderThickness</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderColor</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// other methods and fields written for Square</span>

<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>and for other shapes.</p>
<p>Great!  We now have colorful shapes.  The code above, however, is not <em>good</em> code, even though it is <em>correct</em>.  Consider what would need to be done if say, we decided to support border styles (dotted border, solid border, dashed border, etc).  We would have to edit every single class that supports colors and borders.!</p>
<p>One principle that we can follow is the <em>abstraction principle</em>, which says "Each significant piece of functionality in a program should be implemented in just one place in the source code. Where similar functions are carried out by distinct pieces of code, it is generally beneficial to combine them into one by abstracting out the varying parts."<sup id="fnref:4"><a class="footnote-ref" href="#fn:4" rel="footnote">3</a></sup></p>
<p>Following the principle, we want to implement these style-related fields and methods in just one place.  But where?</p>
<h2 id="inheritance">Inheritance</h2>
<p>The OO-way to do this is to create a <em>parent class</em>, and put all common fields and methods into the parent.  A parent class is defined just like a normal class.  For instance:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">PaintedShape</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Color</span>  <span class="n">fillColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span>  <span class="n">borderColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">double</span> <span class="n">borderThickness</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">PaintedShape</span><span class="o">(</span><span class="n">Color</span> <span class="n">initFillColor</span><span class="o">,</span> <span class="n">Color</span> <span class="n">initBorderColor</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initBorderThickness</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">initFillColor</span><span class="o">;</span>
        <span class="n">borderColor</span> <span class="o">=</span> <span class="n">initBorderColor</span><span class="o">;</span>
        <span class="n">borderThickness</span> <span class="o">=</span> <span class="n">initBorderThickness</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">fillWith</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderThickness</span><span class="o">(</span><span class="kt">double</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderThickness</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBorderColor</span><span class="o">(</span><span class="n">Color</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">borderColor</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>The <code class="codehilite">PaintedCircle</code> class, <code class="codehilite">PaintedSquare</code> class, etc, can now <em>inherits</em> non-private fields and methods from the parent class, using the <code class="codehilite">extends</code> keyword.<br />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">PaintedCircle</span> <span class="kd">extends</span> <span class="n">PaintedShape</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
      <span class="o">:</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">PaintedSquare</span> <span class="kd">extends</span> <span class="n">PaintedShape</span> <span class="kd">implements</span> <span class="n">GeometricShape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
      <span class="o">:</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>This mechanism for a class to inherit the properties and behavior from a parent is called <em>Inheritance</em>, and is the forth and final basic OO principles we cover<sup id="fnref:5"><a class="footnote-ref" href="#fn:5" rel="footnote">4</a></sup>.</p>
<p>With inheritance, we do not have to repeat the declaration of fields <code class="codehilite">fillColor</code>, <code class="codehilite">borderColor</code>, <code class="codehilite">borderThickness</code> and the associated methods in them.  This software engineering principle is also known as the DRY principle -- "<em>don't repeat yourself</em>" principle.  We are going to see DRY again and again in future lectures.</p>
<p>We also call the <code class="codehilite">PaintedShape</code> the superclass (or base class) of <code class="codehilite">PaintedCircle</code> and <code class="codehilite">PaintedSquare</code>, and call <code class="codehilite">PaintedCircle</code> and <code class="codehilite">PaintedSquare</code> the subclass (or derived class)<sup id="fnref:6"><a class="footnote-ref" href="#fn:6" rel="footnote">5</a></sup> of <code class="codehilite">PaintedShape</code>.</p>
<p>A <code class="codehilite">PaintedCircle</code> object can now call <code class="codehilite">fillWith()</code> even if the method <code class="codehilite">fillWith()</code> is not defined in <code class="codehilite">PaintedCircle</code> -- it is defined in <code class="codehilite">PaintedCircle</code>'s parent <code class="codehilite">PaintedShape</code>.  </p>
<p>Now consider the constructor for <code class="codehilite">PaintedCircle</code>.   We need to initialize the geometric shape as well as the painting style.  But, we define the fields <code class="codehilite">fillColor</code>, etc <code class="codehilite">private</code>, and subclasses have no access to <code class="codehilite">private</code> fields in the parent.  We need to call the constructor of the parent to initialize these private fields.  The way to do this is to use the <code class="codehilite">super</code> keyword, like such:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">public</span> <span class="nf">PaintedCircle</span><span class="o">(</span><span class="n">Point</span> <span class="n">initCenter</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initRadius</span><span class="o">,</span> <span class="n">Color</span> <span class="n">initFillColor</span><span class="o">,</span> <span class="n">Color</span> <span class="n">initBorderColor</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initBorderThickness</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">initFillColor</span><span class="o">,</span> <span class="n">initBorderColor</span><span class="o">,</span> <span class="n">initBorderThickness</span><span class="o">);</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">initCenter</span><span class="o">;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">initRadius</span><span class="o">;</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>You can see that the constructor for <code class="codehilite">PaintedCircle</code> now takes in five parameters.  You can imagine that as the class get more sophisticated with more fields, we need to pass in more parameters to the class to initialize the fields.  It is not uncommon to provide alternative constructors with fewer parameters and assign some <em>default</em> values to the fields.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="c1">// create circle with default style (white with black border of thickness 1)</span>
  <span class="kd">public</span> <span class="nf">PaintedCircle</span><span class="o">(</span><span class="n">Point</span> <span class="n">initCenter</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initRadius</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">WHITE</span><span class="o">,</span> <span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">);</span>
      <span class="n">c</span> <span class="o">=</span> <span class="n">initCenter</span><span class="o">;</span>
      <span class="n">r</span> <span class="o">=</span> <span class="n">initRadius</span><span class="o">;</span>
  <span class="o">}</span>

    <span class="c1">// create circle with customized styles  </span>
  <span class="kd">public</span> <span class="nf">PaintedCircle</span><span class="o">(</span><span class="n">Point</span> <span class="n">initCenter</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initRadius</span><span class="o">,</span> <span class="n">Color</span> <span class="n">initFillColor</span><span class="o">,</span> <span class="n">Color</span> <span class="n">initBorderColor</span><span class="o">,</span> <span class="kt">double</span> <span class="n">initBorderThickness</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">initFillColor</span><span class="o">,</span> <span class="n">initBorderColor</span><span class="o">,</span> <span class="n">initBorderThickness</span><span class="o">);</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">initCenter</span><span class="o">;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">initRadius</span><span class="o">;</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Two methods in a class can have the same name and still co-exist peacefully together.  This is called <em>overloading</em>.  When a method is called, we look at the <em>signature</em> of the method, which consists of (i) the name of the method, (ii) the number, order, and type of the arguments, to determine which method is called.  To be precise, the first sentence of this paragraph should read: Two methods in a class can have the same name and still co-exist peacefully together, as long as they have different signatures.  Note that the return type is not part of the method signature, so you cannot have two methods with the same name and same arguments but different return type.  </p>
<p>Even though the example above shows overloading of the constructor, we can overload other methods as well.</p>
<h2 id="java-object-class">Java <code class="codehilite">Object</code> class</h2>
<p>In Java, every class inherits from the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">class <code class="codehilite">Object</code></a> implicitly.  The <code class="codehilite">Object</code> class defines many useful methods that are common to all objects.  The two useful ones are :</p>
<ul>
<li><code class="codehilite">equals(Object obj)</code>, which checks if two objects are equal to each other, and</li>
<li><code class="codehilite">toString()</code>, which returns a string representation of the object, and is a better way to print an object than the <code class="codehilite">print()</code> method and <code class="codehilite">Printable</code> interface we write<sup id="fnref:7"><a class="footnote-ref" href="#fn:7" rel="footnote">6</a></sup>.</li>
</ul>
<p>The <code class="codehilite">equals()</code> method as implemented in <code class="codehilite">Object</code>, only compares if two object references refer to the same object In the Figure below, we show an array <code class="codehilite">circles</code> with three <code class="codehilite">Circle</code> objects.  All three circles are centered at (0, 0) with radius 10.  They are created as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="n">Circle</span><span class="o">[]</span> <span class="n">circles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>
    <span class="n">circles</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">),</span> <span class="mi">10</span><span class="o">);</span>
    <span class="n">circles</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">),</span> <span class="mi">10</span><span class="o">);</span>
    <span class="n">circles</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">circles</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
</pre></div>
</td></tr></table>

<p>When you check <code class="codehilite">circles[0].equals(circles[1])</code>, however, it returns <code class="codehilite">false</code>, because even though <code class="codehilite">circles[0]</code> and <code class="codehilite">circles[1]</code> are semantically the same, they refer to the two different objects.  Calling <code class="codehilite">circles[1].equals(circles[2])</code> returns <code class="codehilite">true</code>, as they are referring to the same object.  </p>
<p><img alt="Screenshot" src="../figures/object-representation-jvm/object-representation-jvm.004.png" /></p>
<p>What if you need a method that compares if two circles are semantically the same?  You can implement your own method, say <code class="codehilite">isTheSameCircle(Circle c)</code>.  But, the <code class="codehilite">equals()</code> method is universal (all classes inherits this method) and is used by other classes for equality tests.  So, in most cases, we can implement a method called <code class="codehilite">equals()</code> with the same signature with the semantic that we want<sup id="fnref:8"><a class="footnote-ref" href="#fn:8" rel="footnote">7</a></sup>.</p>
<p>That's right.  Even though we cannot have two methods with the same signature in the same class, we can have two methods with the same signature, one in the superclass (or the superclass's superclass, and so on), one in the subclass.  The method in the subclass will override the method in the superclass.  For example,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="n">Shape</span><span class="o">,</span> <span class="n">Printable</span> <span class="o">{</span>
     <span class="o">:</span>
         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
             <span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="n">Circle</span><span class="o">)</span> <span class="o">{</span>
                 <span class="n">Circle</span> <span class="n">circle</span> <span class="o">=</span> <span class="o">(</span><span class="n">Circle</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
                 <span class="k">return</span> <span class="o">(</span><span class="n">circle</span><span class="o">.</span><span class="na">center</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">center</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">circle</span><span class="o">.</span><span class="na">radius</span> <span class="o">==</span> <span class="n">radius</span><span class="o">);</span>
             <span class="o">}</span> <span class="k">else</span>
               <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
         <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Line 7 above compares if the two center points are equals, and the two radius values are equals.  So, we compare if the two circles are semantically the same.  The rest of this code requires some explanation:</p>
<ul>
<li>Line 3 uses the same <code class="codehilite">@Override</code> annotation that we have seen before -- we are telling the compilers that we are overriding a method in the superclass.</li>
<li>Line 4 declares the method <code class="codehilite">equals</code>, and note that it has to have exactly the same signature as the <code class="codehilite">equals()</code> method we are overriding.  Even though we meant to compare two <code class="codehilite">Circle</code> objects, we cannot declare it as <code class="codehilite">public boolean equals(Circle circle)</code>, since the signature is different and the compiler would complain.</li>
<li>Since <code class="codehilite">obj</code> is of an <code class="codehilite">Object</code> type, we can actually pass in any object to compare with a <code class="codehilite">Circle</code>.  Line 5 checks if the comparison makes sense, by checking if <code class="codehilite">obj</code> is instantiated from a <code class="codehilite">Circle</code> class, using the <code class="codehilite">instanceof</code> keyword.  If <code class="codehilite">obj</code> is not even a <code class="codehilite">Circle</code> object, then we simply return <code class="codehilite">false</code>.</li>
<li>If <code class="codehilite">obj</code> is an instance of <code class="codehilite">Circle</code>, we assign <code class="codehilite">obj</code> to a variable of type <code class="codehilite">Circle</code>, and compare as in Line 7.</li>
</ul>
<p>For the code above to work, we have to override the <code class="codehilite">equals</code> method of <code class="codehilite">Point</code> as well.  That is left as an exercise.</p>
<p>One final note: polymorphism works here as well.  If we have an object reference <code class="codehilite">obj</code> of type <code class="codehilite">Object</code> that refers to an instance of a <code class="codehilite">Circle</code>, calling <code class="codehilite">obj.equals()</code> will invoke the <code class="codehilite">equals()</code> method of <code class="codehilite">Circle</code>, not <code class="codehilite">Object</code>, just like the case of interfaces.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:2">
<p>Remember a function is just an abstraction over a set of instructions.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>In biology, polymorphism means that an organism can have many different forms.&#160;<a class="footnote-backref" href="#fnref:3" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>This principle is formulated by Benjamin C. Pierce in his book <em>Types and Programming Languages</em>.&#160;<a class="footnote-backref" href="#fnref:4" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>The other three is encapsulation, abstraction, and polymorphism.&#160;<a class="footnote-backref" href="#fnref:5" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>Again, you see that computer scientist can be quite indecisive when it comes to the terminologies in OOP.&#160;<a class="footnote-backref" href="#fnref:6" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>We leave this for another lesson on another day.  &#160;<a class="footnote-backref" href="#fnref:7" rev="footnote" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>If you override <code class="codehilite">equals()</code> you should generally override <code class="codehilite">hashCode()</code> as well, but let's leave that for another lesson on another day.&#160;<a class="footnote-backref" href="#fnref:8" rev="footnote" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lec1/index.html" title="1. Abstraction & Encapsulation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                1. Abstraction & Encapsulation
              </span>
            </div>
          </a>
        
        
          <a href="../lec3/index.html" title="3. Inheritance, Continued" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                3. Inheritance, Continued
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2017
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>